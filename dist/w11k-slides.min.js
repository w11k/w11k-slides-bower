/**
 * w11k-slides
 *
 * @version v0.12.0
 * @link https://github.com/w11k/w11k-slides
 * @license MIT
 */
!function(){"use strict";var e=angular.module("w11k.slides",[]);e.constant("slidesConfig",{slides:[],slideTemplatePrefix:"slides/content/",slideTemplateSuffix:".html",masters:{},footer:{templateUrl:"footer/footer.html",left:"",middle:"",right:"$index + 1"}})}();
!function(){"use strict";function n(n){return{restrict:"A",link:function(t,e,i){function o(n){n?c.style.display=l:(l=c.style.display,c.style.display="none")}var l,c=e[0];t.$on(i.w11kEventToggle,function(n,t){o(t)}),n.$emit(i.w11kEventToggle+"-current",function(n){o(n)})}}}n.$inject=["$rootScope"];var t=angular.module("w11k.slides");t.directive("w11kEventToggle",n)}();
!function(){"use strict";function n(n){n.init()}function e(n){var e={de:{de:!0,en:!1,name:"de",next:"enOnly"},en:{de:!1,en:!0,name:"en",next:"de+en"},"de+en":{de:!0,en:!0,name:"de+en",next:"de"}},t=e.de;this.toggle=function(){this.set(t.next)}.bind(this),this.set=function(i){t=e[i],n.$broadcast("lang-de",t.de),n.$broadcast("lang-en",t.en)}.bind(this),this.get=function(){return t.name}.bind(this),this.init=function(){n.$on("lang-de-current",function(n,e){e(t.de)}),n.$on("lang-en-current",function(n,e){e(t.en)})}.bind(this)}n.$inject=["Language"],e.$inject=["$rootScope"];var t=angular.module("w11k.slides");t.run(n),t.service("Language",e)}();
!function(){"use strict";function s(s){var t={js:{js:!0,ts:!1,name:"js",next:"tsOnly"},ts:{js:!1,ts:!0,name:"ts",next:"js+ts"},"js+ts":{js:!0,ts:!0,name:"js+ts",next:"js"}},n=t.js;s.$on("src-js-current",function(s,t){t(n.js)}),s.$on("src-ts-current",function(s,t){t(n.ts)}),this.toggle=function(){n=t[n.next],s.$broadcast("src-js",n.js),s.$broadcast("src-ts",n.ts)}.bind(this),this.set=function(c){n=t[c],s.$broadcast("src-js",n.js),s.$broadcast("src-ts",n.ts)}.bind(this),this.get=function(){return n.name}.bind(this)}s.$inject=["$rootScope"];var t=angular.module("w11k.slides");t.service("SourceSnippets",s)}();
!function(){"use strict";function e(e){return{restrict:"EA",templateUrl:e.footer.templateUrl||"footer/footer.tpl.html",replace:!0,link:function(t,r,o){function l(e,r){var o=t.$eval(r);angular.isDefined(o)&&(e.innerHTML=o)}var i=r[0].querySelector(".footer-left"),f=r[0].querySelector(".footer-middle"),n=r[0].querySelector(".footer-right");l(i,o.left||e.footer.left),l(f,o.middle||e.footer.middle),l(n,o.right||e.footer.right)}}}e.$inject=["slidesConfig"];var t=angular.module("w11k.slides");t.directive("w11kFooter",e)}();
!function(){"use strict";function e(e){var n=0;this.increment=function(){this.counter++},this.decrement=function(){this.counter--},e.onbeforeunload=function(e){if(n>0){var i="Es wurde mindestens ein Beispiel geöffnet. Wenn die Seite neu geladen wird, müssen beim erneuten Öffnen auch die Beispiele neu geladen werden.";return e.returnValue=i,i}return void e.preventDefault()}}e.$inject=["$window"];var n=angular.module("w11k.slides");n.service("UnloadConfirm",e)}();
!function(){"use strict";function e(e,n){return{restrict:"A",link:function(t,r,i){var l;r.bind("click",function(t){var o=void 0===l||null===l||l.closed,a=void 0!==i.href&&null!==i.href&&void 0!==i.target&&null!==i.target,c="true"===i.w11kOpenOnce;o&&a&&c?(r.removeClass("example-shown"),n.increment(),l=e.open(i.href,i.target),t.preventDefault()):o===!1&&c&&(l.focus(),r.addClass("example-shown"),t.preventDefault())})}}}e.$inject=["$window","UnloadConfirm"];var n=angular.module("w11k.slides");n.directive("w11kOpenOnce",e)}();
!function(){"use strict";function e(e){var t=function(e){return angular.isUndefined(e)?void 0:e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},n='<div class="w11k-pretty-print"><pre class="prettyprint linenums"></pre></div>',r='<div class="title"></div>';return{restrict:"A",terminal:!0,compile:function(i,l){if(angular.isFunction(e.prettyPrintOne)){var a=i.html(),c=t(a),u=e.prettyPrintOne(c,l.lang,!0),p=angular.element(n),s=p.find("pre");return s.html(u),i.replaceWith(p),function(e,t,n){n.$observe("title",function(e){if(void 0!==e&&""!==e){var n=angular.element(r);n.html(e),t.prepend(n)}})}}}}}e.$inject=["$window"];var t=angular.module("w11k.slides");t.directive("w11kPrettyPrint",e)}();
!function(){"use strict";function e(e,t,i){function n(){angular.isDefined(r)&&(r.active=!1),r=o[0],r.active=!0}function a(){var t=e.slideTemplatePrefix||"slides/content/",i=e.slideTemplateSuffix||".html";o=e.slides.map(function(e){var n={name:e,template:t+e+i,active:!1};return n.activate=function(){r.active=!1,r=this,n.active=!0},n});for(var n=0;n<o.length;n++){var a,l=o[n];a=n>0?o[n-1]:o[o.length-1];var c;c=n+1<o.length?o[n+1]:o[0],l.previous=a,l.next=c,s[l.name]=l}}var r,o,s={};i.$on("$locationChangeSuccess",function(){var e=t.path();"/"===e.substring(0,1)&&(e=e.substring(1,e.length));var i=s[e];angular.isDefined(i)&&i.activate()}),a(),n(),this.getActiveSlide=function(){return r},this.getSlides=function(){return o},this.navigateTo=function(e){t.path(e)},this.navigateToFirst=function(){t.path(o[0].name)},this.navigateToLast=function(){t.path(o[o.length-1].name)},this.navigateToOverview=function(){t.path(o[1].name)},this.navigateToNext=function(){var e=this.getActiveSlide().next;angular.isDefined(e)&&this.navigateTo(e.name)}.bind(this),this.navigateToPrevious=function(){var e=this.getActiveSlide().previous;angular.isDefined(e)&&this.navigateTo(e.name)}.bind(this)}function t(e){this.slides=e.getSlides()}function i(e){var t=function(e){var t=e.lastChild;if(t)do e.removeChild(t),t=e.lastChild;while(t)};return{templateUrl:function(t,i){var n=i.w11kSlideMaster||i.master,a=e.masters[n];if(angular.isUndefined(a))throw new Error('No Mater-Slide found for "'+n+'". Please configure "slidesConfig" properly.');return a},restrict:"EA",replace:!0,transclude:!0,link:function(e,i,n,a,r){var o;r(function(e,n){for(var a=0;a<e.length;a++){var r=e[a];if(void 0!==r&&angular.isFunction(r.getAttribute)){var s=r.getAttribute("w11k-slide-part-source");if(void 0!==s&&null!==s){var l='[w11k-slide-part-target="'+s+'"]',c=i[0].querySelector(l);null!==c&&(t(c),c.appendChild(r,c),c.removeAttribute("w11k-slide-part-target"))}}}o=n}),e.$on("$destroy",function(){o.$destroy()})}}}function n(e,t,i,n,a){return{restrict:"EA",templateUrl:n.directiveTemplateUrl||"slides/slides.html",replace:!0,link:function(r,o){function s(){"export"===g?g="screen":"screen"===g&&(g="export"),l(g),angular.isDefined(e.localStorage)&&(e.localStorage[u]=g)}function l(e){"export"===e?(v.classList.remove("screen"),v.classList.add("export")):"screen"===e&&(v.classList.remove("export"),v.classList.add("screen"))}function c(){v.querySelector("div.overlay").classList.toggle("active")}function d(t){var n,a;39===t.keyCode||34===t.keyCode?(n=i.navigateToNext,a="navigate"):37===t.keyCode||33===t.keyCode?(n=i.navigateToPrevious,a="navigate"):36===t.keyCode?(n=i.navigateToFirst,a="navigate"):35===t.keyCode?(n=i.navigateToLast,a="navigate"):79===t.keyCode?(n=i.navigateToOverview,a="navigate"):69===t.keyCode?n=s:(80===t.keyCode||190===t.keyCode)&&(n=c),n&&r.$apply(function(){n(),"navigate"===a&&e.scrollTo(0,0)})}var v=o[0],u="w11k-slides.mode",g="export";angular.isDefined(e.localStorage)&&angular.isDefined(e.localStorage[u])&&(g=e.localStorage[u],l(g)),t.bind("keydown",function(e){if(!(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){var t=e.target.tagName;if("INPUT"!==t&&"TEXTAREA"!==t&&"true"!==e.target.contentEditable)if(n.shortcuts){var i=n.shortcuts[e.keyCode];angular.isFunction(i)||angular.isArray(i)?a.invoke(i,{$event:e}):d(e)}else d(e)}})}}}e.$inject=["slidesConfig","$location","$rootScope"],t.$inject=["SlidesService"],i.$inject=["slidesConfig"],n.$inject=["$window","$document","SlidesService","slidesConfig","$injector"];var a=angular.module("w11k.slides");a.service("SlidesService",e),a.controller("SlidesCtrl",t),a.directive("w11kSlideMaster",i),a.directive("w11kSlides",n)}();
!function(){"use strict";function s(s){s.shortcuts=s.shortcuts||{},s.shortcuts[76]=["SourceSnippets",function(s){s.toggle()}]}function t(s){s.init()}function n(s){var t={jsOnly:{js:!0,ts:!1,next:"tsOnly"},tsOnly:{js:!1,ts:!0,next:"jsAndTs"},jsAndTs:{js:!0,ts:!0,next:"jsOnly"}},n=t.jsOnly;s.$on("src-js-current",function(s,t){t(n.js)}),s.$on("src-ts-current",function(s,t){t(n.ts)}),this.toggle=function(){n=t[n.next],s.$broadcast("src-js",n.js),s.$broadcast("src-ts",n.ts)},this.init=function(){}}s.$inject=["slidesConfig"],t.$inject=["SourceSnippets"],n.$inject=["$rootScope"];var c=angular.module("w11k.slides");c.config(s),c.run(t),c.service("SourceSnippets",n)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIncxMWstc2xpZGVzLm1pbi5qcyIsIncxMWstc2xpZGVzLmpzIiwiZXZlbnQtdG9nZ2xlL2V2ZW50LXRvZ2dsZS5qcyIsImV2ZW50LXRvZ2dsZS9sYW5ndWFnZS5qcyIsImV2ZW50LXRvZ2dsZS9zb3VyY2Utc25pcHBldHMuanMiLCJmb290ZXIvZm9vdGVyLmpzIiwib3Blbi1vbmNlL2NvbmZpcm0tdW5sb2FkLmpzIiwib3Blbi1vbmNlL29wZW4tb25jZS5qcyIsInByZXR0eXByaW50L3ByZXR0eXByaW50LmpzIiwic2xpZGVzL3NsaWRlcy5qcyIsInNvdXJjZS1zbmlwcGV0cy9zb3VyY2Utc25pcHBldHMuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiYW5ndWxhciIsImNvbnN0YW50Iiwic2xpZGVzIiwic2xpZGVUZW1wbGF0ZVByZWZpeCIsInNsaWRlVGVtcGxhdGVTdWZmaXgiLCJtYXN0ZXJzIiwiZm9vdGVyIiwidGVtcGxhdGVVcmwiLCJsZWZ0IiwibWlkZGxlIiwicmlnaHQiLCJ3MTFrRXZlbnRUb2dnbGUiLCIkcm9vdFNjb3BlIiwicmVzdHJpY3QiLCJsaW5rIiwic2NvcGUiLCJqcUVsZW1lbnQiLCJhdHRycyIsInRvZ2dsZSIsInZpc2libGUiLCJlbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5Iiwib3JpZ2luYWxEaXNwbGF5IiwiJG9uIiwiZXZlbnQiLCIkZW1pdCIsIiRpbmplY3QiLCJkaXJlY3RpdmUiLCJpbml0TGFuZ3VhZ2UiLCJMYW5ndWFnZSIsImluaXQiLCJzdGF0ZXMiLCJkZSIsImVuIiwibmFtZSIsIm5leHQiLCJkZStlbiIsImN1cnJlbnRTdGF0ZSIsInRoaXMiLCJzZXQiLCJiaW5kIiwic3RhdGUiLCIkYnJvYWRjYXN0IiwiZ2V0IiwiY2FsbGJhY2siLCJydW4iLCJzZXJ2aWNlIiwiU291cmNlU25pcHBldHMiLCJqcyIsInRzIiwianMrdHMiLCJ3MTFrRm9vdGVyIiwic2xpZGVzQ29uZmlnIiwicmVwbGFjZSIsInNldENvbnRlbnQiLCJleHByZXNzaW9uIiwiY29udGVudCIsIiRldmFsIiwiaXNEZWZpbmVkIiwiaW5uZXJIVE1MIiwicXVlcnlTZWxlY3RvciIsIlVubG9hZENvbmZpcm0iLCIkd2luZG93IiwiY291bnRlciIsImluY3JlbWVudCIsImRlY3JlbWVudCIsIm9uYmVmb3JldW5sb2FkIiwiaGludCIsInJldHVyblZhbHVlIiwicHJldmVudERlZmF1bHQiLCJ3MTFrT3Blbk9uY2UiLCJuYW1lZFdpbmRvdyIsIm5vTmFtZWRXaW5kb3dPcGVuIiwidW5kZWZpbmVkIiwiY2xvc2VkIiwibGlua0F0dHJTZXQiLCJocmVmIiwidGFyZ2V0Iiwib3Blbk9uY2VTZXQiLCJyZW1vdmVDbGFzcyIsIm9wZW4iLCJmb2N1cyIsImFkZENsYXNzIiwidzExa1ByZXR0eVByaW50IiwiZXNjYXBlSFRNTCIsImh0bWwiLCJpc1VuZGVmaW5lZCIsImNvbnRhaW5lclRlbXBsYXRlIiwidGl0bGVUZW1wbGF0ZSIsInRlcm1pbmFsIiwiY29tcGlsZSIsInRFbGVtZW50IiwidEF0dHJzIiwiaXNGdW5jdGlvbiIsInByZXR0eVByaW50T25lIiwiZXNjYXBlZEh0bWwiLCJwcmV0dGlmaWVkSHRtbCIsImxhbmciLCJjb250YWluZXIiLCJwcmVFbGVtZW50IiwiZmluZCIsInJlcGxhY2VXaXRoIiwiJG9ic2VydmUiLCJ0aXRsZVRleHQiLCJ0aXRsZUVsZW1lbnQiLCJwcmVwZW5kIiwiU2xpZGVzU2VydmljZSIsIiRsb2NhdGlvbiIsImFjdGl2YXRlRmlyc3RTbGlkZSIsImFjdGl2ZVNsaWRlIiwiYWN0aXZlIiwibWFwU2xpZGVzQ29uZmlnIiwicHJlZml4Iiwic3VmZml4IiwibWFwIiwic2xpZGUiLCJzbGlkZU9iamVjdCIsInRlbXBsYXRlIiwiYWN0aXZhdGUiLCJpIiwibGVuZ3RoIiwicHJldmlvdXMiLCJzbGlkZXNNYXAiLCJzbGlkZU5hbWUiLCJwYXRoIiwic3Vic3RyaW5nIiwiZ2V0QWN0aXZlU2xpZGUiLCJnZXRTbGlkZXMiLCJuYXZpZ2F0ZVRvIiwibmF2aWdhdGVUb0ZpcnN0IiwibmF2aWdhdGVUb0xhc3QiLCJuYXZpZ2F0ZVRvT3ZlcnZpZXciLCJuYXZpZ2F0ZVRvTmV4dCIsIm5hdmlnYXRlVG9QcmV2aW91cyIsIlNsaWRlc0N0cmwiLCJ3MTFrU2xpZGVNYXN0ZXJEaXJlY3RpdmUiLCJyZW1vdmVDaGlsZHJlbiIsIm5vZGUiLCJsYXN0IiwibGFzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJrZXkiLCJ3MTFrU2xpZGVNYXN0ZXIiLCJtYXN0ZXIiLCJFcnJvciIsInRyYW5zY2x1ZGUiLCJpRWxlbWVudCIsImlBdHRycyIsImN0cmwiLCJ0cmFuc2NsdXNpb25TY29wZSIsImNsb25lIiwicGFydCIsImdldEF0dHJpYnV0ZSIsInBhcnROYW1lIiwic2VsZWN0b3IiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUF0dHJpYnV0ZSIsIiRkZXN0cm95IiwidzExa1NsaWRlc0RpcmVjdGl2ZSIsIiRkb2N1bWVudCIsIiRpbmplY3RvciIsImRpcmVjdGl2ZVRlbXBsYXRlVXJsIiwidG9nZ2xlTW9kZSIsIm1vZGUiLCJzZXRNb2RlIiwibG9jYWxTdG9yYWdlIiwibG9jYWxTdG9yYWdlTW9kZUtleSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInRvZ2dsZU92ZXJsYXkiLCJydW5EZWZhdWx0QWN0aW9uIiwiYWN0aW9uIiwiYWN0aW9uVHlwZSIsImtleUNvZGUiLCIkYXBwbHkiLCJzY3JvbGxUbyIsImFsdEtleSIsImN0cmxLZXkiLCJzaGlmdEtleSIsIm1ldGFLZXkiLCJ0YWdOYW1lIiwiY29udGVudEVkaXRhYmxlIiwic2hvcnRjdXRzIiwiY3VzdG9tU2hvcnRjdXQiLCJpc0FycmF5IiwiaW52b2tlIiwiJGV2ZW50IiwiY29udHJvbGxlciIsImNvbmZpZ3VyZVNob3J0Y3V0cyIsImluaXRTbmlwcGV0cyIsImpzT25seSIsInRzT25seSIsImpzQW5kVHMiLCJjb25maWciXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0NQQyxXQUNDLFlBRUEsSUFBSUEsR0FBU0MsUUFBUUQsT0FBTyxpQkFFNUJBLEdBQU9FLFNBQVMsZ0JBQ2RDLFVBQ0FDLG9CQUFxQixrQkFDckJDLG9CQUFxQixRQUNyQkMsV0FDQUMsUUFDRUMsWUFBYSxxQkFDYkMsS0FBTSxHQUNOQyxPQUFRLEdBQ1JDLE1BQU87Q0NkWixXQUNDLFlBR0EsU0FBU0MsR0FBZ0JDLEdBQ3ZCLE9BQ0VDLFNBQVUsSUFDVkMsS0FBTSxTQUFVQyxFQUFPQyxFQUFXQyxHQU9oQyxRQUFTQyxHQUFPQyxHQUNWQSxFQUNGQyxFQUFRQyxNQUFNQyxRQUFVQyxHQUd4QkEsRUFBa0JILEVBQVFDLE1BQU1DLFFBQ2hDRixFQUFRQyxNQUFNQyxRQUFVLFFBWjVCLEdBQ0lDLEdBREFILEVBQVVKLEVBQVUsRUFFeEJELEdBQU1TLElBQUlQLEVBQU1OLGdCQUFpQixTQUFVYyxFQUFPTixHQUNoREQsRUFBT0MsS0FhVFAsRUFBV2MsTUFBTVQsRUFBTU4sZ0JBQWtCLFdBQVksU0FBU1EsR0FDNURELEVBQU9DLE9BS2ZSLEVBQWdCZ0IsU0FBVyxhQUUzQixJQUFJNUIsR0FBU0MsUUFBUUQsT0FBTyxjQUM1QkEsR0FBTzZCLFVBQVUsa0JBQW1CakI7Q0NqQ3JDLFdBQ0MsWUFHQSxTQUFTa0IsR0FBYUMsR0FDcEJBLEVBQVNDLE9BS1gsUUFBU0QsR0FBU2xCLEdBQ2hCLEdBQUlvQixJQUNGQyxJQUNFQSxJQUFJLEVBQ0pDLElBQUksRUFDSkMsS0FBTSxLQUNOQyxLQUFNLFVBRVJGLElBQ0VELElBQUksRUFDSkMsSUFBSSxFQUNKQyxLQUFNLEtBQ05DLEtBQU0sU0FFUkMsU0FDRUosSUFBSSxFQUNKQyxJQUFJLEVBQ0pDLEtBQU0sUUFDTkMsS0FBTSxPQUlORSxFQUFlTixFQUFPQyxFQUUxQk0sTUFBS3JCLE9BQVMsV0FDWnFCLEtBQUtDLElBQUlGLEVBQWFGLE9BQ3RCSyxLQUFLRixNQUVQQSxLQUFLQyxJQUFNLFNBQVVFLEdBQ25CSixFQUFlTixFQUFPVSxHQUV0QjlCLEVBQVcrQixXQUFXLFVBQVdMLEVBQWFMLElBQzlDckIsRUFBVytCLFdBQVcsVUFBV0wsRUFBYUosS0FDOUNPLEtBQUtGLE1BRVBBLEtBQUtLLElBQU0sV0FDVCxNQUFPTixHQUFhSCxNQUNwQk0sS0FBS0YsTUFFUEEsS0FBS1IsS0FBTyxXQUNWbkIsRUFBV1ksSUFBSSxrQkFBbUIsU0FBVUMsRUFBT29CLEdBQ2pEQSxFQUFTUCxFQUFhTCxNQUd4QnJCLEVBQVdZLElBQUksa0JBQW1CLFNBQVVDLEVBQU9vQixHQUNqREEsRUFBU1AsRUFBYUosT0FFeEJPLEtBQUtGLE1BbERUVixFQUFhRixTQUFXLFlBb0R4QkcsRUFBU0gsU0FBVyxhQUVwQixJQUFJNUIsR0FBU0MsUUFBUUQsT0FBTyxjQUM1QkEsR0FBTytDLElBQUlqQixHQUNYOUIsRUFBT2dELFFBQVEsV0FBWWpCO0NDL0Q1QixXQUNDLFlBR0EsU0FBU2tCLEdBQWVwQyxHQUN0QixHQUFJb0IsSUFDRmlCLElBQ0VBLElBQUksRUFDSkMsSUFBSSxFQUNKZixLQUFNLEtBQ05DLEtBQU0sVUFFUmMsSUFDRUQsSUFBSSxFQUNKQyxJQUFJLEVBQ0pmLEtBQU0sS0FDTkMsS0FBTSxTQUVSZSxTQUNFRixJQUFJLEVBQ0pDLElBQUksRUFDSmYsS0FBTSxRQUNOQyxLQUFNLE9BSU5FLEVBQWVOLEVBQU9pQixFQUUxQnJDLEdBQVdZLElBQUksaUJBQWtCLFNBQVVDLEVBQU9vQixHQUNoREEsRUFBU1AsRUFBYVcsTUFHeEJyQyxFQUFXWSxJQUFJLGlCQUFrQixTQUFVQyxFQUFPb0IsR0FDaERBLEVBQVNQLEVBQWFZLE1BR3hCWCxLQUFLckIsT0FBUyxXQUNab0IsRUFBZU4sRUFBT00sRUFBYUYsTUFFbkN4QixFQUFXK0IsV0FBVyxTQUFVTCxFQUFhVyxJQUM3Q3JDLEVBQVcrQixXQUFXLFNBQVVMLEVBQWFZLEtBQzdDVCxLQUFLRixNQUVQQSxLQUFLQyxJQUFNLFNBQVVFLEdBQ25CSixFQUFlTixFQUFPVSxHQUV0QjlCLEVBQVcrQixXQUFXLFNBQVVMLEVBQWFXLElBQzdDckMsRUFBVytCLFdBQVcsU0FBVUwsRUFBYVksS0FDN0NULEtBQUtGLE1BRVBBLEtBQUtLLElBQU0sV0FDVCxNQUFPTixHQUFhSCxNQUNwQk0sS0FBS0YsTUFFVFMsRUFBZXJCLFNBQVcsYUFFMUIsSUFBSTVCLEdBQVNDLFFBQVFELE9BQU8sY0FDNUJBLEdBQU9nRCxRQUFRLGlCQUFrQkM7Q0N6RGxDLFdBQ0MsWUFHQSxTQUFTSSxHQUFXQyxHQUNsQixPQUNFeEMsU0FBVSxLQUNWTixZQUFhOEMsRUFBYS9DLE9BQU9DLGFBQWUseUJBQ2hEK0MsU0FBUyxFQUNUeEMsS0FBTSxTQUFVQyxFQUFPSyxFQUFTSCxHQUs5QixRQUFTc0MsR0FBV25DLEVBQVNvQyxHQUMzQixHQUFJQyxHQUFVMUMsRUFBTTJDLE1BQU1GLEVBQ3RCeEQsU0FBUTJELFVBQVVGLEtBQ3BCckMsRUFBUXdDLFVBQVlILEdBUHhCLEdBQUlqRCxHQUFPWSxFQUFRLEdBQUd5QyxjQUFjLGdCQUNoQ3BELEVBQVNXLEVBQVEsR0FBR3lDLGNBQWMsa0JBQ2xDbkQsRUFBUVUsRUFBUSxHQUFHeUMsY0FBYyxnQkFTckNOLEdBQVcvQyxFQUFNUyxFQUFNVCxNQUFRNkMsRUFBYS9DLE9BQU9FLE1BQ25EK0MsRUFBVzlDLEVBQVFRLEVBQU1SLFFBQVU0QyxFQUFhL0MsT0FBT0csUUFDdkQ4QyxFQUFXN0MsRUFBT08sRUFBTVAsT0FBUzJDLEVBQWEvQyxPQUFPSSxTQUkzRDBDLEVBQVd6QixTQUFXLGVBRXRCLElBQUk1QixHQUFTQyxRQUFRRCxPQUFPLGNBQzVCQSxHQUFPNkIsVUFBVSxhQUFjd0I7Q0M5QmhDLFdBQ0MsWUFHQSxTQUFTVSxHQUFjQyxHQUNyQixHQUFJQyxHQUFVLENBRWR6QixNQUFLMEIsVUFBWSxXQUNmMUIsS0FBS3lCLFdBR1B6QixLQUFLMkIsVUFBWSxXQUNmM0IsS0FBS3lCLFdBR1BELEVBQVFJLGVBQWlCLFNBQVUxQyxHQUNqQyxHQUFJdUMsRUFBVSxFQUFHLENBQ2YsR0FBSUksR0FBTyxnSkFFWCxPQURBM0MsR0FBTTRDLFlBQWNELEVBQ2JBLEVBR1AsV0FEQTNDLEdBQU02QyxrQkFLWlIsRUFBY25DLFNBQVcsVUFFekIsSUFBSTVCLEdBQVNDLFFBQVFELE9BQU8sY0FDNUJBLEdBQU9nRCxRQUFRLGdCQUFpQmU7Q0M3QmpDLFdBQ0MsWUFHQSxTQUFTUyxHQUFhUixFQUFTRCxHQUM3QixPQUNFakQsU0FBVSxJQUNWQyxLQUFNLFNBQVVDLEVBQU9LLEVBQVNILEdBQzlCLEdBQUl1RCxFQUVKcEQsR0FBUXFCLEtBQUssUUFBUyxTQUFVaEIsR0FDOUIsR0FBSWdELEdBQW9DQyxTQUFoQkYsR0FBNkMsT0FBaEJBLEdBQXdCQSxFQUFZRyxPQUNyRkMsRUFBNkJGLFNBQWZ6RCxFQUFNNEQsTUFBcUMsT0FBZjVELEVBQU00RCxNQUFrQ0gsU0FBakJ6RCxFQUFNNkQsUUFBeUMsT0FBakI3RCxFQUFNNkQsT0FDckdDLEVBQXFDLFNBQXZCOUQsRUFBTXNELFlBRXBCRSxJQUFxQkcsR0FBZUcsR0FDdEMzRCxFQUFRNEQsWUFBWSxpQkFDcEJsQixFQUFjRyxZQUNkTyxFQUFjVCxFQUFRa0IsS0FBS2hFLEVBQU00RCxLQUFNNUQsRUFBTTZELFFBQzdDckQsRUFBTTZDLGtCQUNHRyxLQUFzQixHQUFTTSxJQUN4Q1AsRUFBWVUsUUFDWjlELEVBQVErRCxTQUFTLGlCQUNqQjFELEVBQU02QyxzQkFNaEJDLEVBQWE1QyxTQUFXLFVBQVcsZ0JBRW5DLElBQUk1QixHQUFTQyxRQUFRRCxPQUFPLGNBQzVCQSxHQUFPNkIsVUFBVSxlQUFnQjJDO0NDaENsQyxXQUNDLFlBR0EsU0FBU2EsR0FBZ0JyQixHQUV2QixHQUFJc0IsR0FBYSxTQUFVQyxHQUN6QixNQUFJdEYsU0FBUXVGLFlBQVlELEdBQXhCLE9BSU9BLEVBQUtoQyxRQUFRLEtBQU0sUUFBUUEsUUFBUSxLQUFNLFFBQVFBLFFBQVEsS0FBTSxXQUdwRWtDLEVBQW9CLGdGQUNwQkMsRUFBZ0IsMkJBRXBCLFFBQ0U1RSxTQUFVLElBQ1Y2RSxVQUFVLEVBQ1ZDLFFBQVMsU0FBVUMsRUFBVUMsR0FDM0IsR0FBSTdGLFFBQVE4RixXQUFXL0IsRUFBUWdDLGdCQUFpQixDQUM5QyxHQUFJVCxHQUFPTSxFQUFTTixPQUNoQlUsRUFBY1gsRUFBV0MsR0FDekJXLEVBQWlCbEMsRUFBUWdDLGVBQWVDLEVBQWFILEVBQU9LLE1BQU0sR0FFbEVDLEVBQVluRyxRQUFRb0IsUUFBUW9FLEdBQzVCWSxFQUFhRCxFQUFVRSxLQUFLLE1BTWhDLE9BSkFELEdBQVdkLEtBQUtXLEdBRWhCTCxFQUFTVSxZQUFZSCxHQUVkLFNBQVVwRixFQUFPSyxFQUFTSCxHQUMvQkEsRUFBTXNGLFNBQVMsUUFBUyxTQUFVQyxHQUNoQyxHQUFrQjlCLFNBQWQ4QixHQUF5QyxLQUFkQSxFQUFrQixDQUMvQyxHQUFJQyxHQUFlekcsUUFBUW9CLFFBQVFxRSxFQUNuQ2dCLEdBQWFuQixLQUFLa0IsR0FDbEJwRixFQUFRc0YsUUFBUUQsVUFTOUJyQixFQUFnQnpELFNBQVcsVUFFM0IsSUFBSTVCLEdBQVNDLFFBQVFELE9BQU8sY0FDNUJBLEdBQU82QixVQUFVLGtCQUFtQndEO0NDbERyQyxXQUNDLFlBR0EsU0FBU3VCLEdBQWN0RCxFQUFjdUQsRUFBV2hHLEdBRzlDLFFBQVNpRyxLQUNIN0csUUFBUTJELFVBQVVtRCxLQUNwQkEsRUFBWUMsUUFBUyxHQUV2QkQsRUFBYzVHLEVBQU8sR0FDckI0RyxFQUFZQyxRQUFTLEVBb0J2QixRQUFTQyxLQUNQLEdBQUlDLEdBQVM1RCxFQUFhbEQscUJBQXVCLGtCQUM3QytHLEVBQVM3RCxFQUFhakQscUJBQXVCLE9BRWpERixHQUFTbUQsRUFBYW5ELE9BQU9pSCxJQUFJLFNBQVVDLEdBQ3pDLEdBQUlDLElBQ0ZsRixLQUFNaUYsRUFDTkUsU0FBVUwsRUFBU0csRUFBUUYsRUFDM0JILFFBQVEsRUFVVixPQVBBTSxHQUFZRSxTQUFXLFdBQ3JCVCxFQUFZQyxRQUFTLEVBQ3JCRCxFQUFjdkUsS0FFZDhFLEVBQVlOLFFBQVMsR0FHaEJNLEdBR1QsS0FBSyxHQUFJRyxHQUFJLEVBQUdBLEVBQUl0SCxFQUFPdUgsT0FBUUQsSUFBSyxDQUN0QyxHQUNJRSxHQURBdEcsRUFBVWxCLEVBQU9zSCxFQUduQkUsR0FERUYsRUFBSSxFQUNLdEgsRUFBT3NILEVBQUksR0FHWHRILEVBQU9BLEVBQU91SCxPQUFTLEVBR3BDLElBQUlyRixFQUVGQSxHQURFb0YsRUFBSSxFQUFJdEgsRUFBT3VILE9BQ1Z2SCxFQUFPc0gsRUFBSSxHQUdYdEgsRUFBTyxHQUdoQmtCLEVBQVFzRyxTQUFXQSxFQUNuQnRHLEVBQVFnQixLQUFPQSxFQUVmdUYsRUFBVXZHLEVBQVFlLE1BQVFmLEdBckU5QixHQUFJMEYsR0FVQTVHLEVBQ0F5SCxJQUVKL0csR0FBV1ksSUFBSSx5QkFBMEIsV0FDdkMsR0FBSW9HLEdBQVloQixFQUFVaUIsTUFFUSxPQUE5QkQsRUFBVUUsVUFBVSxFQUFHLEtBQ3pCRixFQUFZQSxFQUFVRSxVQUFVLEVBQUdGLEVBQVVILFFBRy9DLElBQUlMLEdBQVFPLEVBQVVDLEVBRWxCNUgsU0FBUTJELFVBQVV5RCxJQUNwQkEsRUFBTUcsYUFrRFZQLElBQ0FILElBRUF0RSxLQUFLd0YsZUFBaUIsV0FDcEIsTUFBT2pCLElBR1R2RSxLQUFLeUYsVUFBWSxXQUNmLE1BQU85SCxJQUdUcUMsS0FBSzBGLFdBQWEsU0FBVUwsR0FDMUJoQixFQUFVaUIsS0FBS0QsSUFHakJyRixLQUFLMkYsZ0JBQWtCLFdBQ3JCdEIsRUFBVWlCLEtBQUszSCxFQUFPLEdBQUdpQyxPQUczQkksS0FBSzRGLGVBQWlCLFdBQ3BCdkIsRUFBVWlCLEtBQUszSCxFQUFPQSxFQUFPdUgsT0FBUyxHQUFHdEYsT0FHM0NJLEtBQUs2RixtQkFBcUIsV0FDeEJ4QixFQUFVaUIsS0FBSzNILEVBQU8sR0FBR2lDLE9BRzNCSSxLQUFLOEYsZUFBaUIsV0FDcEIsR0FBSWpHLEdBQU9HLEtBQUt3RixpQkFBaUIzRixJQUM3QnBDLFNBQVEyRCxVQUFVdkIsSUFDcEJHLEtBQUswRixXQUFXN0YsRUFBS0QsT0FFdkJNLEtBQUtGLE1BRVBBLEtBQUsrRixtQkFBcUIsV0FDeEIsR0FBSVosR0FBV25GLEtBQUt3RixpQkFBaUJMLFFBQ2pDMUgsU0FBUTJELFVBQVUrRCxJQUNwQm5GLEtBQUswRixXQUFXUCxFQUFTdkYsT0FFM0JNLEtBQUtGLE1BS1QsUUFBU2dHLEdBQVc1QixHQUNsQnBFLEtBQUtyQyxPQUFTeUcsRUFBY3FCLFlBSzlCLFFBQVNRLEdBQXlCbkYsR0FDaEMsR0FBSW9GLEdBQWlCLFNBQVVDLEdBQzdCLEdBQUlDLEdBQU9ELEVBQUtFLFNBQ2hCLElBQUlELEVBQ0YsRUFDRUQsR0FBS0csWUFBWUYsR0FDakJBLEVBQU9ELEVBQUtFLGdCQUNMRCxHQUliLFFBQ0VwSSxZQUFhLFNBQVVhLEVBQVNILEdBQzlCLEdBQUk2SCxHQUFNN0gsRUFBTThILGlCQUFtQjlILEVBQU0rSCxPQUNyQ3pJLEVBQWM4QyxFQUFhaEQsUUFBUXlJLEVBRXZDLElBQUk5SSxRQUFRdUYsWUFBWWhGLEdBQ3RCLEtBQU0sSUFBSTBJLE9BQU0sNkJBQStCSCxFQUFNLCtDQUd2RCxPQUFPdkksSUFFVE0sU0FBVSxLQUNWeUMsU0FBUyxFQUNUNEYsWUFBWSxFQUNacEksS0FBTSxTQUFVQyxFQUFPb0ksRUFBVUMsRUFBUUMsRUFBTUgsR0FDN0MsR0FBSUksRUFFSkosR0FBVyxTQUFVSyxFQUFPeEksR0FFMUIsSUFBSyxHQUFJeUcsR0FBSSxFQUFHQSxFQUFJK0IsRUFBTTlCLE9BQVFELElBQUssQ0FDckMsR0FBSWdDLEdBQU9ELEVBQU0vQixFQUVqQixJQUFhOUMsU0FBVDhFLEdBQXNCeEosUUFBUThGLFdBQVcwRCxFQUFLQyxjQUFlLENBQy9ELEdBQUlDLEdBQVdGLEVBQUtDLGFBQWEseUJBRWpDLElBQWlCL0UsU0FBYmdGLEdBQXVDLE9BQWJBLEVBQW1CLENBQy9DLEdBQUlDLEdBQVcsNEJBQThCRCxFQUFXLEtBQ3BEdkQsRUFBWWdELEVBQVMsR0FBR3RGLGNBQWM4RixFQUN4QixRQUFkeEQsSUFDRnNDLEVBQWV0QyxHQUNmQSxFQUFVeUQsWUFBWUosRUFBTXJELEdBQzVCQSxFQUFVMEQsZ0JBQWdCLDZCQU1sQ1AsRUFBb0J2SSxJQUd0QkEsRUFBTVMsSUFBSSxXQUFZLFdBQ3BCOEgsRUFBa0JRLGVBUTFCLFFBQVNDLEdBQW9CaEcsRUFBU2lHLEVBQVdyRCxFQUFldEQsRUFBYzRHLEdBQzVFLE9BQ0VwSixTQUFVLEtBQ1ZOLFlBQWE4QyxFQUFhNkcsc0JBQXdCLHFCQUNsRDVHLFNBQVMsRUFDVHhDLEtBQU0sU0FBVUMsRUFBT0MsR0FNckIsUUFBU21KLEtBQ00sV0FBVEMsRUFDRkEsRUFBTyxTQUVTLFdBQVRBLElBQ1BBLEVBQU8sVUFHVEMsRUFBUUQsR0FFSnBLLFFBQVEyRCxVQUFVSSxFQUFRdUcsZ0JBQzVCdkcsRUFBUXVHLGFBQWFDLEdBQXVCSCxHQUloRCxRQUFTQyxHQUFRRCxHQUNGLFdBQVRBLEdBQ0ZoSixFQUFRb0osVUFBVUMsT0FBTyxVQUN6QnJKLEVBQVFvSixVQUFVRSxJQUFJLFdBRU4sV0FBVE4sSUFDUGhKLEVBQVFvSixVQUFVQyxPQUFPLFVBQ3pCckosRUFBUW9KLFVBQVVFLElBQUksV0FJMUIsUUFBU0MsS0FDUHZKLEVBQVF5QyxjQUFjLGVBQWUyRyxVQUFVdEosT0FBTyxVQUd4RCxRQUFTMEosR0FBaUJuSixHQUN4QixHQUFJb0osR0FDQUMsQ0FHa0IsTUFBbEJySixFQUFNc0osU0FBb0MsS0FBbEJ0SixFQUFNc0osU0FDaENGLEVBQVNsRSxFQUFjMEIsZUFDdkJ5QyxFQUFhLFlBR1ksS0FBbEJySixFQUFNc0osU0FBb0MsS0FBbEJ0SixFQUFNc0osU0FDckNGLEVBQVNsRSxFQUFjMkIsbUJBQ3ZCd0MsRUFBYSxZQUdZLEtBQWxCckosRUFBTXNKLFNBQ2JGLEVBQVNsRSxFQUFjdUIsZ0JBQ3ZCNEMsRUFBYSxZQUdZLEtBQWxCckosRUFBTXNKLFNBQ2JGLEVBQVNsRSxFQUFjd0IsZUFDdkIyQyxFQUFhLFlBR1ksS0FBbEJySixFQUFNc0osU0FDYkYsRUFBU2xFLEVBQWN5QixtQkFDdkIwQyxFQUFhLFlBR1ksS0FBbEJySixFQUFNc0osUUFDYkYsRUFBU1YsR0FHZ0IsS0FBbEIxSSxFQUFNc0osU0FBb0MsTUFBbEJ0SixFQUFNc0osV0FDckNGLEVBQVNGLEdBR1BFLEdBQ0Y5SixFQUFNaUssT0FBTyxXQUNYSCxJQUNtQixhQUFmQyxHQUNGL0csRUFBUWtILFNBQVMsRUFBRyxLQTdFNUIsR0FBSTdKLEdBQVVKLEVBQVUsR0FFcEJ1SixFQUFzQixtQkFDdEJILEVBQU8sUUFnRlBwSyxTQUFRMkQsVUFBVUksRUFBUXVHLGVBQ3hCdEssUUFBUTJELFVBQVVJLEVBQVF1RyxhQUFhQyxNQUN6Q0gsRUFBT3JHLEVBQVF1RyxhQUFhQyxHQUM1QkYsRUFBUUQsSUFJWkosRUFBVXZILEtBQUssVUFBVyxTQUFVaEIsR0FFbEMsS0FBSUEsRUFBTXlKLFFBQVV6SixFQUFNMEosU0FBVzFKLEVBQU0ySixVQUFZM0osRUFBTTRKLFNBQTdELENBSUEsR0FBSUMsR0FBVTdKLEVBQU1xRCxPQUFPd0csT0FDM0IsSUFBZ0IsVUFBWkEsR0FBbUMsYUFBWkEsR0FBMkQsU0FBakM3SixFQUFNcUQsT0FBT3lHLGdCQUlsRSxHQUFJbEksRUFBYW1JLFVBQVcsQ0FDMUIsR0FBSUMsR0FBaUJwSSxFQUFhbUksVUFBVS9KLEVBQU1zSixRQUM5Qy9LLFNBQVE4RixXQUFXMkYsSUFBbUJ6TCxRQUFRMEwsUUFBUUQsR0FDeER4QixFQUFVMEIsT0FBT0YsR0FBaUJHLE9BQVFuSyxJQUcxQ21KLEVBQWlCbkosT0FJbkJtSixHQUFpQm5KLFFBMUwzQmtGLEVBQWNoRixTQUFXLGVBQWdCLFlBQWEsY0FNdEQ0RyxFQUFXNUcsU0FBVyxpQkE0RHRCNkcsRUFBeUI3RyxTQUFXLGdCQThIcENvSSxFQUFvQnBJLFNBQVcsVUFBVyxZQUFhLGdCQUFpQixlQUFnQixZQUV4RixJQUFJNUIsR0FBU0MsUUFBUUQsT0FBTyxjQUM1QkEsR0FBT2dELFFBQVEsZ0JBQWlCNEQsR0FDaEM1RyxFQUFPOEwsV0FBVyxhQUFjdEQsR0FDaEN4SSxFQUFPNkIsVUFBVSxrQkFBbUI0RyxHQUNwQ3pJLEVBQU82QixVQUFVLGFBQWNtSTtDQzdUaEMsV0FDQyxZQUdBLFNBQVMrQixHQUFtQnpJLEdBQzFCQSxFQUFhbUksVUFBWW5JLEVBQWFtSSxjQUV0Q25JLEVBQWFtSSxVQUFVLEtBQVMsaUJBQWtCLFNBQVV4SSxHQUMxREEsRUFBZTlCLFdBTW5CLFFBQVM2SyxHQUFhL0ksR0FFcEJBLEVBQWVqQixPQUtqQixRQUFTaUIsR0FBZXBDLEdBQ3RCLEdBQUlvQixJQUNGZ0ssUUFDRS9JLElBQUksRUFDSkMsSUFBSSxFQUNKZCxLQUFNLFVBRVI2SixRQUNFaEosSUFBSSxFQUNKQyxJQUFJLEVBQ0pkLEtBQU0sV0FFUjhKLFNBQ0VqSixJQUFJLEVBQ0pDLElBQUksRUFDSmQsS0FBTSxXQUlORSxFQUFlTixFQUFPZ0ssTUFFMUJwTCxHQUFXWSxJQUFJLGlCQUFrQixTQUFVQyxFQUFPb0IsR0FDaERBLEVBQVNQLEVBQWFXLE1BR3hCckMsRUFBV1ksSUFBSSxpQkFBa0IsU0FBVUMsRUFBT29CLEdBQ2hEQSxFQUFTUCxFQUFhWSxNQUd4QlgsS0FBS3JCLE9BQVMsV0FDWm9CLEVBQWVOLEVBQU9NLEVBQWFGLE1BRW5DeEIsRUFBVytCLFdBQVcsU0FBVUwsRUFBYVcsSUFDN0NyQyxFQUFXK0IsV0FBVyxTQUFVTCxFQUFhWSxLQUcvQ1gsS0FBS1IsS0FBTyxhQTlDZCtKLEVBQW1CbkssU0FBVyxnQkFPOUJvSyxFQUFhcEssU0FBVyxrQkEyQ3hCcUIsRUFBZXJCLFNBQVcsYUFDMUIsSUFBSTVCLEdBQVNDLFFBQVFELE9BQU8sY0FFNUJBLEdBQU9vTSxPQUFPTCxHQUNkL0wsRUFBTytDLElBQUlpSixHQUNYaE0sRUFBT2dELFFBQVEsaUJBQWtCQyIsImZpbGUiOiJ3MTFrLXNsaWRlcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6W251bGwsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgndzExay5zbGlkZXMnLCBbXSk7XG5cbiAgbW9kdWxlLmNvbnN0YW50KCdzbGlkZXNDb25maWcnLCB7XG4gICAgc2xpZGVzOiBbXSxcbiAgICBzbGlkZVRlbXBsYXRlUHJlZml4OiAnc2xpZGVzL2NvbnRlbnQvJyxcbiAgICBzbGlkZVRlbXBsYXRlU3VmZml4OiAnLmh0bWwnLFxuICAgIG1hc3RlcnM6IHt9LFxuICAgIGZvb3Rlcjoge1xuICAgICAgdGVtcGxhdGVVcmw6ICdmb290ZXIvZm9vdGVyLmh0bWwnLFxuICAgICAgbGVmdDogJycsXG4gICAgICBtaWRkbGU6ICcnLFxuICAgICAgcmlnaHQ6ICckaW5kZXggKyAxJ1xuICAgIH1cbiAgfSk7XG59KCkpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIHcxMWtFdmVudFRvZ2dsZSgkcm9vdFNjb3BlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGpxRWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBqcUVsZW1lbnRbMF07XG4gICAgICAgIHZhciBvcmlnaW5hbERpc3BsYXk7XG4gICAgICAgIHNjb3BlLiRvbihhdHRycy53MTFrRXZlbnRUb2dnbGUsIGZ1bmN0aW9uIChldmVudCwgdmlzaWJsZSkge1xuICAgICAgICAgIHRvZ2dsZSh2aXNpYmxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlKHZpc2libGUpIHtcbiAgICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gb3JpZ2luYWxEaXNwbGF5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9yaWdpbmFsRGlzcGxheSA9IGVsZW1lbnQuc3R5bGUuZGlzcGxheTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KGF0dHJzLncxMWtFdmVudFRvZ2dsZSArICctY3VycmVudCcsIGZ1bmN0aW9uKHZpc2libGUpIHtcbiAgICAgICAgICB0b2dnbGUodmlzaWJsZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgdzExa0V2ZW50VG9nZ2xlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnXTtcblxuICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3cxMWsuc2xpZGVzJyk7XG4gIG1vZHVsZS5kaXJlY3RpdmUoJ3cxMWtFdmVudFRvZ2dsZScsIHcxMWtFdmVudFRvZ2dsZSk7XG59KCkpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGluaXRMYW5ndWFnZShMYW5ndWFnZSkge1xuICAgIExhbmd1YWdlLmluaXQoKTtcbiAgfVxuICBpbml0TGFuZ3VhZ2UuJGluamVjdCA9IFsnTGFuZ3VhZ2UnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gTGFuZ3VhZ2UoJHJvb3RTY29wZSkge1xuICAgIHZhciBzdGF0ZXMgPSB7XG4gICAgICAnZGUnOiB7XG4gICAgICAgIGRlOiB0cnVlLFxuICAgICAgICBlbjogZmFsc2UsXG4gICAgICAgIG5hbWU6ICdkZScsXG4gICAgICAgIG5leHQ6ICdlbk9ubHknXG4gICAgICB9LFxuICAgICAgJ2VuJzoge1xuICAgICAgICBkZTogZmFsc2UsXG4gICAgICAgIGVuOiB0cnVlLFxuICAgICAgICBuYW1lOiAnZW4nLFxuICAgICAgICBuZXh0OiAnZGUrZW4nXG4gICAgICB9LFxuICAgICAgJ2RlK2VuJzoge1xuICAgICAgICBkZTogdHJ1ZSxcbiAgICAgICAgZW46IHRydWUsXG4gICAgICAgIG5hbWU6ICdkZStlbicsXG4gICAgICAgIG5leHQ6ICdkZSdcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHN0YXRlcy5kZTtcblxuICAgIHRoaXMudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5zZXQoY3VycmVudFN0YXRlLm5leHQpO1xuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBjdXJyZW50U3RhdGUgPSBzdGF0ZXNbc3RhdGVdO1xuXG4gICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2xhbmctZGUnLCBjdXJyZW50U3RhdGUuZGUpO1xuICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdsYW5nLWVuJywgY3VycmVudFN0YXRlLmVuKTtcbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjdXJyZW50U3RhdGUubmFtZTtcbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkcm9vdFNjb3BlLiRvbignbGFuZy1kZS1jdXJyZW50JywgZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhjdXJyZW50U3RhdGUuZGUpO1xuICAgICAgfSk7XG5cbiAgICAgICRyb290U2NvcGUuJG9uKCdsYW5nLWVuLWN1cnJlbnQnLCBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKGN1cnJlbnRTdGF0ZS5lbik7XG4gICAgICB9KTtcbiAgICB9LmJpbmQodGhpcyk7XG4gIH1cbiAgTGFuZ3VhZ2UuJGluamVjdCA9IFsnJHJvb3RTY29wZSddO1xuXG4gIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgndzExay5zbGlkZXMnKTtcbiAgbW9kdWxlLnJ1bihpbml0TGFuZ3VhZ2UpO1xuICBtb2R1bGUuc2VydmljZSgnTGFuZ3VhZ2UnLCBMYW5ndWFnZSk7XG59KCkpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIFNvdXJjZVNuaXBwZXRzKCRyb290U2NvcGUpIHtcbiAgICB2YXIgc3RhdGVzID0ge1xuICAgICAgJ2pzJzoge1xuICAgICAgICBqczogdHJ1ZSxcbiAgICAgICAgdHM6IGZhbHNlLFxuICAgICAgICBuYW1lOiAnanMnLFxuICAgICAgICBuZXh0OiAndHNPbmx5J1xuICAgICAgfSxcbiAgICAgICd0cyc6IHtcbiAgICAgICAganM6IGZhbHNlLFxuICAgICAgICB0czogdHJ1ZSxcbiAgICAgICAgbmFtZTogJ3RzJyxcbiAgICAgICAgbmV4dDogJ2pzK3RzJ1xuICAgICAgfSxcbiAgICAgICdqcyt0cyc6IHtcbiAgICAgICAganM6IHRydWUsXG4gICAgICAgIHRzOiB0cnVlLFxuICAgICAgICBuYW1lOiAnanMrdHMnLFxuICAgICAgICBuZXh0OiAnanMnXG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBjdXJyZW50U3RhdGUgPSBzdGF0ZXMuanM7XG5cbiAgICAkcm9vdFNjb3BlLiRvbignc3JjLWpzLWN1cnJlbnQnLCBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjayhjdXJyZW50U3RhdGUuanMpO1xuICAgIH0pO1xuXG4gICAgJHJvb3RTY29wZS4kb24oJ3NyYy10cy1jdXJyZW50JywgZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soY3VycmVudFN0YXRlLnRzKTtcbiAgICB9KTtcblxuICAgIHRoaXMudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgY3VycmVudFN0YXRlID0gc3RhdGVzW2N1cnJlbnRTdGF0ZS5uZXh0XTtcblxuICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdzcmMtanMnLCBjdXJyZW50U3RhdGUuanMpO1xuICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdzcmMtdHMnLCBjdXJyZW50U3RhdGUudHMpO1xuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBjdXJyZW50U3RhdGUgPSBzdGF0ZXNbc3RhdGVdO1xuXG4gICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3NyYy1qcycsIGN1cnJlbnRTdGF0ZS5qcyk7XG4gICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3NyYy10cycsIGN1cnJlbnRTdGF0ZS50cyk7XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY3VycmVudFN0YXRlLm5hbWU7XG4gICAgfS5iaW5kKHRoaXMpO1xuICB9XG4gIFNvdXJjZVNuaXBwZXRzLiRpbmplY3QgPSBbJyRyb290U2NvcGUnXTtcblxuICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3cxMWsuc2xpZGVzJyk7XG4gIG1vZHVsZS5zZXJ2aWNlKCdTb3VyY2VTbmlwcGV0cycsIFNvdXJjZVNuaXBwZXRzKTtcbn0oKSk7XG5cbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiB3MTFrRm9vdGVyKHNsaWRlc0NvbmZpZykge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHRlbXBsYXRlVXJsOiBzbGlkZXNDb25maWcuZm9vdGVyLnRlbXBsYXRlVXJsIHx8wqAnZm9vdGVyL2Zvb3Rlci50cGwuaHRtbCcsXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICB2YXIgbGVmdCA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmZvb3Rlci1sZWZ0Jyk7XG4gICAgICAgIHZhciBtaWRkbGUgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXItbWlkZGxlJyk7XG4gICAgICAgIHZhciByaWdodCA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmZvb3Rlci1yaWdodCcpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNldENvbnRlbnQoZWxlbWVudCwgZXhwcmVzc2lvbikge1xuICAgICAgICAgIHZhciBjb250ZW50ID0gc2NvcGUuJGV2YWwoZXhwcmVzc2lvbik7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGNvbnRlbnQpKSB7XG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2V0Q29udGVudChsZWZ0LCBhdHRycy5sZWZ0IHx8wqBzbGlkZXNDb25maWcuZm9vdGVyLmxlZnQpO1xuICAgICAgICBzZXRDb250ZW50KG1pZGRsZSwgYXR0cnMubWlkZGxlIHx8wqBzbGlkZXNDb25maWcuZm9vdGVyLm1pZGRsZSk7XG4gICAgICAgIHNldENvbnRlbnQocmlnaHQsIGF0dHJzLnJpZ2h0IHx8wqBzbGlkZXNDb25maWcuZm9vdGVyLnJpZ2h0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHcxMWtGb290ZXIuJGluamVjdCA9IFsnc2xpZGVzQ29uZmlnJ107XG5cbiAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCd3MTFrLnNsaWRlcycpO1xuICBtb2R1bGUuZGlyZWN0aXZlKCd3MTFrRm9vdGVyJywgdzExa0Zvb3Rlcik7XG59KCkpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIFVubG9hZENvbmZpcm0oJHdpbmRvdykge1xuICAgIHZhciBjb3VudGVyID0gMDtcblxuICAgIHRoaXMuaW5jcmVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jb3VudGVyKys7XG4gICAgfTtcblxuICAgIHRoaXMuZGVjcmVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jb3VudGVyLS07XG4gICAgfTtcblxuICAgICR3aW5kb3cub25iZWZvcmV1bmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChjb3VudGVyID4gMCkge1xuICAgICAgICB2YXIgaGludCA9ICdFcyB3dXJkZSBtaW5kZXN0ZW5zIGVpbiBCZWlzcGllbCBnZcO2ZmZuZXQuIFdlbm4gZGllIFNlaXRlIG5ldSBnZWxhZGVuIHdpcmQsIG3DvHNzZW4gYmVpbSBlcm5ldXRlbiDDlmZmbmVuIGF1Y2ggZGllIEJlaXNwaWVsZSBuZXUgZ2VsYWRlbiB3ZXJkZW4uJztcbiAgICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBoaW50O1xuICAgICAgICByZXR1cm4gaGludDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIFVubG9hZENvbmZpcm0uJGluamVjdCA9IFsnJHdpbmRvdyddO1xuXG4gIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgndzExay5zbGlkZXMnKTtcbiAgbW9kdWxlLnNlcnZpY2UoJ1VubG9hZENvbmZpcm0nLCBVbmxvYWRDb25maXJtKTtcbn0oKSk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gdzExa09wZW5PbmNlKCR3aW5kb3csIFVubG9hZENvbmZpcm0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgdmFyIG5hbWVkV2luZG93O1xuXG4gICAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICB2YXIgbm9OYW1lZFdpbmRvd09wZW4gPSBuYW1lZFdpbmRvdyA9PT0gdW5kZWZpbmVkIHx8IG5hbWVkV2luZG93ID09PSBudWxsIHx8IG5hbWVkV2luZG93LmNsb3NlZDtcbiAgICAgICAgICB2YXIgbGlua0F0dHJTZXQgPSBhdHRycy5ocmVmICE9PSB1bmRlZmluZWQgJiYgYXR0cnMuaHJlZiAhPT0gbnVsbCAmJiBhdHRycy50YXJnZXQgIT09IHVuZGVmaW5lZCAmJiBhdHRycy50YXJnZXQgIT09IG51bGw7XG4gICAgICAgICAgdmFyIG9wZW5PbmNlU2V0ID0gYXR0cnMudzExa09wZW5PbmNlID09PSAndHJ1ZSc7XG5cbiAgICAgICAgICBpZiAobm9OYW1lZFdpbmRvd09wZW4gJiYgbGlua0F0dHJTZXQgJiYgb3Blbk9uY2VTZXQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2V4YW1wbGUtc2hvd24nKTtcbiAgICAgICAgICAgIFVubG9hZENvbmZpcm0uaW5jcmVtZW50KCk7XG4gICAgICAgICAgICBuYW1lZFdpbmRvdyA9ICR3aW5kb3cub3BlbihhdHRycy5ocmVmLCBhdHRycy50YXJnZXQpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5vTmFtZWRXaW5kb3dPcGVuID09PSBmYWxzZSAmJiBvcGVuT25jZVNldCkge1xuICAgICAgICAgICAgbmFtZWRXaW5kb3cuZm9jdXMoKTtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2V4YW1wbGUtc2hvd24nKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHcxMWtPcGVuT25jZS4kaW5qZWN0ID0gWyckd2luZG93JywgJ1VubG9hZENvbmZpcm0nXTtcblxuICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3cxMWsuc2xpZGVzJyk7XG4gIG1vZHVsZS5kaXJlY3RpdmUoJ3cxMWtPcGVuT25jZScsIHcxMWtPcGVuT25jZSk7XG59KCkpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiB3MTFrUHJldHR5UHJpbnQoJHdpbmRvdykge1xuXG4gICAgdmFyIGVzY2FwZUhUTUwgPSBmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoaHRtbCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKC8+L2csICcmZ3Q7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcbiAgICB9O1xuXG4gICAgdmFyIGNvbnRhaW5lclRlbXBsYXRlID0gJzxkaXYgY2xhc3M9XCJ3MTFrLXByZXR0eS1wcmludFwiPjxwcmUgY2xhc3M9XCJwcmV0dHlwcmludCBsaW5lbnVtc1wiPjwvcHJlPjwvZGl2Pic7XG4gICAgdmFyIHRpdGxlVGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cInRpdGxlXCI+PC9kaXY+JztcblxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgdGVybWluYWw6IHRydWUsXG4gICAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKCR3aW5kb3cucHJldHR5UHJpbnRPbmUpKSB7XG4gICAgICAgICAgdmFyIGh0bWwgPSB0RWxlbWVudC5odG1sKCk7XG4gICAgICAgICAgdmFyIGVzY2FwZWRIdG1sID0gZXNjYXBlSFRNTChodG1sKTtcbiAgICAgICAgICB2YXIgcHJldHRpZmllZEh0bWwgPSAkd2luZG93LnByZXR0eVByaW50T25lKGVzY2FwZWRIdG1sLCB0QXR0cnMubGFuZywgdHJ1ZSk7XG5cbiAgICAgICAgICB2YXIgY29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KGNvbnRhaW5lclRlbXBsYXRlKTtcbiAgICAgICAgICB2YXIgcHJlRWxlbWVudCA9IGNvbnRhaW5lci5maW5kKCdwcmUnKTtcblxuICAgICAgICAgIHByZUVsZW1lbnQuaHRtbChwcmV0dGlmaWVkSHRtbCk7XG5cbiAgICAgICAgICB0RWxlbWVudC5yZXBsYWNlV2l0aChjb250YWluZXIpO1xuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKCd0aXRsZScsIGZ1bmN0aW9uICh0aXRsZVRleHQpIHtcbiAgICAgICAgICAgICAgaWYgKHRpdGxlVGV4dCAhPT0gdW5kZWZpbmVkICYmIHRpdGxlVGV4dCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KHRpdGxlVGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgIHRpdGxlRWxlbWVudC5odG1sKHRpdGxlVGV4dCk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wcmVwZW5kKHRpdGxlRWxlbWVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgdzExa1ByZXR0eVByaW50LiRpbmplY3QgPSBbJyR3aW5kb3cnXTtcblxuICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3cxMWsuc2xpZGVzJyk7XG4gIG1vZHVsZS5kaXJlY3RpdmUoJ3cxMWtQcmV0dHlQcmludCcsIHcxMWtQcmV0dHlQcmludCk7XG59KCkpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBTbGlkZXNTZXJ2aWNlKHNsaWRlc0NvbmZpZywgJGxvY2F0aW9uLCAkcm9vdFNjb3BlKSB7XG4gICAgdmFyIGFjdGl2ZVNsaWRlO1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGVGaXJzdFNsaWRlKCkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGFjdGl2ZVNsaWRlKSkge1xuICAgICAgICBhY3RpdmVTbGlkZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZVNsaWRlID0gc2xpZGVzWzBdO1xuICAgICAgYWN0aXZlU2xpZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgc2xpZGVzO1xuICAgIHZhciBzbGlkZXNNYXAgPSB7fTtcblxuICAgICRyb290U2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNsaWRlTmFtZSA9ICRsb2NhdGlvbi5wYXRoKCk7XG5cbiAgICAgIGlmIChzbGlkZU5hbWUuc3Vic3RyaW5nKDAsIDEpID09PSAnLycpIHtcbiAgICAgICAgc2xpZGVOYW1lID0gc2xpZGVOYW1lLnN1YnN0cmluZygxLCBzbGlkZU5hbWUubGVuZ3RoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNsaWRlID0gc2xpZGVzTWFwW3NsaWRlTmFtZV07XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChzbGlkZSkpIHtcbiAgICAgICAgc2xpZGUuYWN0aXZhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIG1hcFNsaWRlc0NvbmZpZygpIHtcbiAgICAgIHZhciBwcmVmaXggPSBzbGlkZXNDb25maWcuc2xpZGVUZW1wbGF0ZVByZWZpeCB8fCAnc2xpZGVzL2NvbnRlbnQvJztcbiAgICAgIHZhciBzdWZmaXggPSBzbGlkZXNDb25maWcuc2xpZGVUZW1wbGF0ZVN1ZmZpeCB8fCAnLmh0bWwnO1xuXG4gICAgICBzbGlkZXMgPSBzbGlkZXNDb25maWcuc2xpZGVzLm1hcChmdW5jdGlvbiAoc2xpZGUpIHtcbiAgICAgICAgdmFyIHNsaWRlT2JqZWN0ID0ge1xuICAgICAgICAgIG5hbWU6IHNsaWRlLFxuICAgICAgICAgIHRlbXBsYXRlOiBwcmVmaXggKyBzbGlkZSArIHN1ZmZpeCxcbiAgICAgICAgICBhY3RpdmU6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgc2xpZGVPYmplY3QuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYWN0aXZlU2xpZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgYWN0aXZlU2xpZGUgPSB0aGlzO1xuXG4gICAgICAgICAgc2xpZGVPYmplY3QuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2xpZGVPYmplY3Q7XG4gICAgICB9KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBzbGlkZXNbaV07XG4gICAgICAgIHZhciBwcmV2aW91cztcbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgcHJldmlvdXMgPSBzbGlkZXNbaSAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzID0gc2xpZGVzW3NsaWRlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICBpZiAoaSArIDEgPCBzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgICAgbmV4dCA9IHNsaWRlc1tpICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbmV4dCA9IHNsaWRlc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICAgICAgZWxlbWVudC5uZXh0ID0gbmV4dDtcblxuICAgICAgICBzbGlkZXNNYXBbZWxlbWVudC5uYW1lXSA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWFwU2xpZGVzQ29uZmlnKCk7XG4gICAgYWN0aXZhdGVGaXJzdFNsaWRlKCk7XG5cbiAgICB0aGlzLmdldEFjdGl2ZVNsaWRlID0gZnVuY3Rpb24oKcKge1xuICAgICAgcmV0dXJuIGFjdGl2ZVNsaWRlO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFNsaWRlcyA9IGZ1bmN0aW9uKCnCoHtcbiAgICAgIHJldHVybiBzbGlkZXM7XG4gICAgfTtcblxuICAgIHRoaXMubmF2aWdhdGVUbyA9IGZ1bmN0aW9uIChzbGlkZU5hbWUpIHtcbiAgICAgICRsb2NhdGlvbi5wYXRoKHNsaWRlTmFtZSk7XG4gICAgfTtcblxuICAgIHRoaXMubmF2aWdhdGVUb0ZpcnN0ID0gZnVuY3Rpb24oKcKge1xuICAgICAgJGxvY2F0aW9uLnBhdGgoc2xpZGVzWzBdLm5hbWUpO1xuICAgIH07XG5cbiAgICB0aGlzLm5hdmlnYXRlVG9MYXN0ID0gZnVuY3Rpb24oKcKge1xuICAgICAgJGxvY2F0aW9uLnBhdGgoc2xpZGVzW3NsaWRlcy5sZW5ndGggLSAxXS5uYW1lKTtcbiAgICB9O1xuXG4gICAgdGhpcy5uYXZpZ2F0ZVRvT3ZlcnZpZXcgPSBmdW5jdGlvbigpwqB7XG4gICAgICAkbG9jYXRpb24ucGF0aChzbGlkZXNbMV0ubmFtZSk7XG4gICAgfTtcblxuICAgIHRoaXMubmF2aWdhdGVUb05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbmV4dCA9IHRoaXMuZ2V0QWN0aXZlU2xpZGUoKS5uZXh0O1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG5leHQpKSB7XG4gICAgICAgIHRoaXMubmF2aWdhdGVUbyhuZXh0Lm5hbWUpO1xuICAgICAgfVxuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIHRoaXMubmF2aWdhdGVUb1ByZXZpb3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHByZXZpb3VzID0gdGhpcy5nZXRBY3RpdmVTbGlkZSgpLnByZXZpb3VzO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHByZXZpb3VzKSkge1xuICAgICAgICB0aGlzLm5hdmlnYXRlVG8ocHJldmlvdXMubmFtZSk7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpO1xuICB9XG4gIFNsaWRlc1NlcnZpY2UuJGluamVjdCA9IFsnc2xpZGVzQ29uZmlnJywgJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIFNsaWRlc0N0cmwoU2xpZGVzU2VydmljZSkge1xuICAgIHRoaXMuc2xpZGVzID0gU2xpZGVzU2VydmljZS5nZXRTbGlkZXMoKTtcbiAgfVxuICBTbGlkZXNDdHJsLiRpbmplY3QgPSBbJ1NsaWRlc1NlcnZpY2UnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gdzExa1NsaWRlTWFzdGVyRGlyZWN0aXZlKHNsaWRlc0NvbmZpZykge1xuICAgIHZhciByZW1vdmVDaGlsZHJlbiA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgbGFzdCA9IG5vZGUubGFzdENoaWxkO1xuICAgICAgaWYgKGxhc3QpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobGFzdCk7XG4gICAgICAgICAgbGFzdCA9IG5vZGUubGFzdENoaWxkO1xuICAgICAgICB9IHdoaWxlIChsYXN0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgdmFyIGtleSA9IGF0dHJzLncxMWtTbGlkZU1hc3RlciB8fCBhdHRycy5tYXN0ZXI7XG4gICAgICAgIHZhciB0ZW1wbGF0ZVVybCA9IHNsaWRlc0NvbmZpZy5tYXN0ZXJzW2tleV07XG5cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQodGVtcGxhdGVVcmwpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBNYXRlci1TbGlkZSBmb3VuZCBmb3IgXCInICsga2V5ICsgJ1wiLiBQbGVhc2UgY29uZmlndXJlIFwic2xpZGVzQ29uZmlnXCIgcHJvcGVybHkuJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGVtcGxhdGVVcmw7XG4gICAgICB9LFxuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY3RybCwgdHJhbnNjbHVkZSkge1xuICAgICAgICB2YXIgdHJhbnNjbHVzaW9uU2NvcGU7XG5cbiAgICAgICAgdHJhbnNjbHVkZShmdW5jdGlvbiAoY2xvbmUsIHNjb3BlKSB7XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb25lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydCA9IGNsb25lW2ldO1xuXG4gICAgICAgICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihwYXJ0LmdldEF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgICAgdmFyIHBhcnROYW1lID0gcGFydC5nZXRBdHRyaWJ1dGUoJ3cxMWstc2xpZGUtcGFydC1zb3VyY2UnKTtcblxuICAgICAgICAgICAgICBpZiAocGFydE5hbWUgIT09IHVuZGVmaW5lZCAmJiBwYXJ0TmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9ICdbdzExay1zbGlkZS1wYXJ0LXRhcmdldD1cIicgKyBwYXJ0TmFtZSArICdcIl0nO1xuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBpRWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICByZW1vdmVDaGlsZHJlbihjb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBhcnQsIGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCd3MTFrLXNsaWRlLXBhcnQtdGFyZ2V0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdHJhbnNjbHVzaW9uU2NvcGUgPSBzY29wZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0cmFuc2NsdXNpb25TY29wZS4kZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHcxMWtTbGlkZU1hc3RlckRpcmVjdGl2ZS4kaW5qZWN0ID0gWydzbGlkZXNDb25maWcnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gdzExa1NsaWRlc0RpcmVjdGl2ZSgkd2luZG93LCAkZG9jdW1lbnQsIFNsaWRlc1NlcnZpY2UsIHNsaWRlc0NvbmZpZywgJGluamVjdG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgdGVtcGxhdGVVcmw6IHNsaWRlc0NvbmZpZy5kaXJlY3RpdmVUZW1wbGF0ZVVybCB8fCAnc2xpZGVzL3NsaWRlcy5odG1sJyxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGpxRWxlbWVudCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGpxRWxlbWVudFswXTtcblxuICAgICAgICB2YXIgbG9jYWxTdG9yYWdlTW9kZUtleSA9ICd3MTFrLXNsaWRlcy5tb2RlJztcbiAgICAgICAgdmFyIG1vZGUgPSAnZXhwb3J0JztcblxuICAgICAgICBmdW5jdGlvbiB0b2dnbGVNb2RlKCkge1xuICAgICAgICAgIGlmIChtb2RlID09PSAnZXhwb3J0Jykge1xuICAgICAgICAgICAgbW9kZSA9ICdzY3JlZW4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChtb2RlID09PSAnc2NyZWVuJykge1xuICAgICAgICAgICAgbW9kZSA9ICdleHBvcnQnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNldE1vZGUobW9kZSk7XG5cbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoJHdpbmRvdy5sb2NhbFN0b3JhZ2UpKSB7XG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZVtsb2NhbFN0b3JhZ2VNb2RlS2V5XSA9IG1vZGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0TW9kZShtb2RlKSB7XG4gICAgICAgICAgaWYgKG1vZGUgPT09ICdleHBvcnQnKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NjcmVlbicpO1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdleHBvcnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ3NjcmVlbicpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZXhwb3J0Jyk7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NjcmVlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHRvZ2dsZU92ZXJsYXkoKSB7XG4gICAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdkaXYub3ZlcmxheScpLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcnVuRGVmYXVsdEFjdGlvbihldmVudCkge1xuICAgICAgICAgIHZhciBhY3Rpb247XG4gICAgICAgICAgdmFyIGFjdGlvblR5cGU7XG5cbiAgICAgICAgICAvLyByaWdodCBvciBwYWdlIGRvd25cbiAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzkgfHwgZXZlbnQua2V5Q29kZSA9PT0gMzQpIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IFNsaWRlc1NlcnZpY2UubmF2aWdhdGVUb05leHQ7XG4gICAgICAgICAgICBhY3Rpb25UeXBlID0gJ25hdmlnYXRlJztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gbGVmdCBvciBwYWdlIHVwXG4gICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzcgfHwgZXZlbnQua2V5Q29kZSA9PT0gMzMpIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IFNsaWRlc1NlcnZpY2UubmF2aWdhdGVUb1ByZXZpb3VzO1xuICAgICAgICAgICAgYWN0aW9uVHlwZSA9ICduYXZpZ2F0ZSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHBvcyAxXG4gICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzYpIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IFNsaWRlc1NlcnZpY2UubmF2aWdhdGVUb0ZpcnN0O1xuICAgICAgICAgICAgYWN0aW9uVHlwZSA9ICduYXZpZ2F0ZSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGVuZFxuICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IDM1KSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBTbGlkZXNTZXJ2aWNlLm5hdmlnYXRlVG9MYXN0O1xuICAgICAgICAgICAgYWN0aW9uVHlwZSA9ICduYXZpZ2F0ZSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIG9cbiAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSA3OSkge1xuICAgICAgICAgICAgYWN0aW9uID0gU2xpZGVzU2VydmljZS5uYXZpZ2F0ZVRvT3ZlcnZpZXc7XG4gICAgICAgICAgICBhY3Rpb25UeXBlID0gJ25hdmlnYXRlJztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZVxuICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IDY5KSB7XG4gICAgICAgICAgICBhY3Rpb24gPSB0b2dnbGVNb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBwIG9yIHBlcmlvZFxuICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IDgwIHx8IGV2ZW50LmtleUNvZGUgPT09IDE5MCkge1xuICAgICAgICAgICAgYWN0aW9uID0gdG9nZ2xlT3ZlcmxheTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBhY3Rpb24oKTtcbiAgICAgICAgICAgICAgaWYgKGFjdGlvblR5cGUgPT09ICduYXZpZ2F0ZScpIHtcbiAgICAgICAgICAgICAgICAkd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoJHdpbmRvdy5sb2NhbFN0b3JhZ2UpKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKCR3aW5kb3cubG9jYWxTdG9yYWdlW2xvY2FsU3RvcmFnZU1vZGVLZXldKSkge1xuICAgICAgICAgICAgbW9kZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlW2xvY2FsU3RvcmFnZU1vZGVLZXldO1xuICAgICAgICAgICAgc2V0TW9kZShtb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgICAgaWYgKGV2ZW50LmFsdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgdGFnTmFtZSA9IGV2ZW50LnRhcmdldC50YWdOYW1lO1xuICAgICAgICAgIGlmICh0YWdOYW1lID09PSAnSU5QVVQnIHx8IHRhZ05hbWUgPT09ICdURVhUQVJFQScgfHwgZXZlbnQudGFyZ2V0LmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNsaWRlc0NvbmZpZy5zaG9ydGN1dHMpIHtcbiAgICAgICAgICAgIHZhciBjdXN0b21TaG9ydGN1dCA9IHNsaWRlc0NvbmZpZy5zaG9ydGN1dHNbZXZlbnQua2V5Q29kZV07XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKGN1c3RvbVNob3J0Y3V0KSB8fCBhbmd1bGFyLmlzQXJyYXkoY3VzdG9tU2hvcnRjdXQpKSB7XG4gICAgICAgICAgICAgICRpbmplY3Rvci5pbnZva2UoY3VzdG9tU2hvcnRjdXQsIHskZXZlbnQ6IGV2ZW50fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgcnVuRGVmYXVsdEFjdGlvbihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcnVuRGVmYXVsdEFjdGlvbihldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHcxMWtTbGlkZXNEaXJlY3RpdmUuJGluamVjdCA9IFsnJHdpbmRvdycsICckZG9jdW1lbnQnLCAnU2xpZGVzU2VydmljZScsICdzbGlkZXNDb25maWcnLCAnJGluamVjdG9yJ107XG5cbiAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCd3MTFrLnNsaWRlcycpO1xuICBtb2R1bGUuc2VydmljZSgnU2xpZGVzU2VydmljZScsIFNsaWRlc1NlcnZpY2UpO1xuICBtb2R1bGUuY29udHJvbGxlcignU2xpZGVzQ3RybCcsIFNsaWRlc0N0cmwpO1xuICBtb2R1bGUuZGlyZWN0aXZlKCd3MTFrU2xpZGVNYXN0ZXInLCB3MTFrU2xpZGVNYXN0ZXJEaXJlY3RpdmUpO1xuICBtb2R1bGUuZGlyZWN0aXZlKCd3MTFrU2xpZGVzJywgdzExa1NsaWRlc0RpcmVjdGl2ZSk7XG59KCkpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBjb25maWd1cmVTaG9ydGN1dHMoc2xpZGVzQ29uZmlnKSB7XG4gICAgc2xpZGVzQ29uZmlnLnNob3J0Y3V0cyA9IHNsaWRlc0NvbmZpZy5zaG9ydGN1dHMgfHwge307XG5cbiAgICBzbGlkZXNDb25maWcuc2hvcnRjdXRzWyc3NiddID0gWydTb3VyY2VTbmlwcGV0cycsIGZ1bmN0aW9uIChTb3VyY2VTbmlwcGV0cykge1xuICAgICAgU291cmNlU25pcHBldHMudG9nZ2xlKCk7XG4gICAgfV07XG4gIH1cbiAgY29uZmlndXJlU2hvcnRjdXRzLiRpbmplY3QgPSBbJ3NsaWRlc0NvbmZpZyddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBpbml0U25pcHBldHMoU291cmNlU25pcHBldHMpIHtcbiAgICAvLyBqdXN0IGZvciBlYWdlciBjcmVhdGlvblxuICAgIFNvdXJjZVNuaXBwZXRzLmluaXQoKTtcbiAgfVxuICBpbml0U25pcHBldHMuJGluamVjdCA9IFsnU291cmNlU25pcHBldHMnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gU291cmNlU25pcHBldHMoJHJvb3RTY29wZSkge1xuICAgIHZhciBzdGF0ZXMgPSB7XG4gICAgICAnanNPbmx5Jzoge1xuICAgICAgICBqczogdHJ1ZSxcbiAgICAgICAgdHM6IGZhbHNlLFxuICAgICAgICBuZXh0OiAndHNPbmx5J1xuICAgICAgfSxcbiAgICAgICd0c09ubHknOiB7XG4gICAgICAgIGpzOiBmYWxzZSxcbiAgICAgICAgdHM6IHRydWUsXG4gICAgICAgIG5leHQ6ICdqc0FuZFRzJ1xuICAgICAgfSxcbiAgICAgICdqc0FuZFRzJzoge1xuICAgICAgICBqczogdHJ1ZSxcbiAgICAgICAgdHM6IHRydWUsXG4gICAgICAgIG5leHQ6ICdqc09ubHknXG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBjdXJyZW50U3RhdGUgPSBzdGF0ZXMuanNPbmx5O1xuXG4gICAgJHJvb3RTY29wZS4kb24oJ3NyYy1qcy1jdXJyZW50JywgZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soY3VycmVudFN0YXRlLmpzKTtcbiAgICB9KTtcblxuICAgICRyb290U2NvcGUuJG9uKCdzcmMtdHMtY3VycmVudCcsIGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKGN1cnJlbnRTdGF0ZS50cyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGN1cnJlbnRTdGF0ZSA9IHN0YXRlc1tjdXJyZW50U3RhdGUubmV4dF07XG5cbiAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnc3JjLWpzJywgY3VycmVudFN0YXRlLmpzKTtcbiAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnc3JjLXRzJywgY3VycmVudFN0YXRlLnRzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gbm90aGluZyB0byBkbyBoZXJlIGF0IHRoZSBtb21lbnRcbiAgICB9O1xuICB9XG4gIFNvdXJjZVNuaXBwZXRzLiRpbmplY3QgPSBbJyRyb290U2NvcGUnXTtcbiAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCd3MTFrLnNsaWRlcycpO1xuXG4gIG1vZHVsZS5jb25maWcoY29uZmlndXJlU2hvcnRjdXRzKTtcbiAgbW9kdWxlLnJ1bihpbml0U25pcHBldHMpO1xuICBtb2R1bGUuc2VydmljZSgnU291cmNlU25pcHBldHMnLCBTb3VyY2VTbmlwcGV0cyk7XG59KCkpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
